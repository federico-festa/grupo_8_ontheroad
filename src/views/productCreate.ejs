<!DOCTYPE html>
<html lang="es">
<base href="/" />
<%- include('partials/head', {title: 'Formulario de creación de productos' , css: 'productCreate.css' }) %>

    <body>
        <%- include('partials/header') %>
            <main>
                <h2 class="create-title">Formulario de creación de productos</h2>
                <div class="container">
                    <div class="form-container">
                        <form action="/products/create" method="post" enctype="multipart/form-data" class="create-form">
                            <div class="row-1">
                                <div class="c-1">
                                    <div class="input-container">
                                        <label for="name" class="label-container">Lugar:</label>
                                        <br>
                                        <input type="text" id="name" name="name" placeholder="Ej: Buenos Aires"
                                            class="input" value="<%= locals.oldData ? oldData.name : null %>">
                                        <div class="errors-msg">
                                            <div class="error"></div>
                                            <% if(locals.errors && errors.name) { %>
                                                <p>
                                                    <%= errors.name.msg %>
                                                </p>
                                                <% } %>
                                        </div>
                                    </div>
                                    <div class="input-container">
                                        <label for="discount" class="label-container">Descuento:</label>
                                        <br>
                                        <input type="text" id="discount" name="discount" placeholder="Ej: 15"
                                            class="input" value="<%= locals.oldData ? oldData.discount : null %>">
                                        <div class="errors-msg">
                                            <div class="error2"></div>
                                            <% if(locals.errors && errors.discount) { %>
                                                <p>
                                                    <%= errors.discount.msg %>
                                                </p>
                                                <% } %>
                                        </div>
                                    </div>
                                    <div class="input-container">
                                        <label for="descriptionShort" class="label-container">Descipción breve:</label>
                                        <br>
                                        <textarea name="descriptionShort" id="descriptionShort" class="input"
                                            value="<%= locals.oldData ? oldData.descriptionShort : null %>"></textarea>
                                        <div class="errors-msg">
                                            <div class="error3"></div>
                                            <% if(locals.errors && errors.descriptionShort) { %>
                                                <p>
                                                    <%= errors.descriptionShort.msg %>
                                                </p>
                                                <% } %>
                                        </div>
                                    </div>
                                    <div class="input-container">
                                        <label for="descriptionLong" class="label-container">Descripción
                                            completa:</label>
                                        <br>
                                        <textarea name="descriptionLong" id="descriptionLong" class="input-desc"
                                            value="<%= locals.oldData ? oldData.descriptionLong : null %>"></textarea>
                                        <div class="errors-msg">
                                            <div class="error4"></div>
                                            <% if(locals.errors && errors.descriptionLong) { %>
                                                <p>
                                                    <%= errors.descriptionLong.msg %>
                                                </p>
                                                <% } %>
                                        </div>
                                    </div>
                                </div>
                                <div class="c-2">
                                    <div class="input-container">
                                        <label for="price" class="label-container">Precio:</label>
                                        <br>
                                        <input type="text" id="price" name="price" placeholder="Ej: 1500" class="input" value="<%= locals.oldData ? oldData.price : null %>">
                                        <div class="errors-msg">
                                            <div class="error5"></div>
                                            <% if(locals.errors && errors.price) { %>
                                                <p>
                                                    <%= errors.price.msg %>
                                                </p>
                                                <% } %>
                                        </div>
                                    </div>
                                    <div class="input-container">
                                        <label for="id_region" class="label-container">Región:</label>
                                        <br>
                                        <select name="id_region" id="id_region" class="region"
                                            value="<%= locals.oldData ? oldData.id_region : null %>">
                                            <% for(let i=0; i < regions.length; i++) { %>
                                                <option value="<%= regions[i].id%>">
                                                    <%= regions[i].name %>
                                                </option>
                                                <% } %>
                                        </select>
                                        <div class="errors-msg">
                                            <% if(locals.errors && errors.id_region) { %>
                                                <p>
                                                    <%= errors.id_region.msg %>
                                                </p>
                                                <% } %>
                                        </div>
                                    </div>
                                    <div class="input-container">
                                        <label for="image" class="label-container">Imagen:</label><br>
                                        <input type="file" name="img" id="img" class="img-input"  value="<%= locals.oldData ? oldData.img : null %>">
                                        <div class="errors-msg">
                                            <div class="error6"></div>
                                            <% if(locals.errors && errors.img) { %>
                                                <p>
                                                    <%= errors.img.msg %>
                                                </p>
                                                <% } %>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="button-container">
                                <button type="submit" class="submit-button">Crear producto</button>
                            </div>
                    </div>
                    </form>
                </div>
            </main>
            <script src="js/header.js"></script>
            <script src="js/productCreate.js"></script>
            <%- include('partials/footer') %>
    </body>

</html>